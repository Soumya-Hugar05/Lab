<html>
    <head>
        <meta charset="UTF-8">
        <title>Image Gallery Filter</title>
        <style>
            body{
                font-family: Arial, Helvetica, sans-serif;
                padding:20px;
                text-align: center;
            }
            .buttons{
                margin-bottom: 20px;
            }
            .buttons button{
                margin:5px;
                padding:10px 15px;
                cursor:pointer;
                border:none;
                background-color:  #4285f4;
                color: white;
                border-radius: 5px;
            }
            .gallery img{
                width:200px;
                height:150px;
                object-fit:cover;
                margin:10px;
                border-radius:10px;
            }
            .hidden{
                display:none;
            }
        </style>
    </head>
    <body>
        <h2>IMAGE GALLERY FILTER</h2>
        <div class="buttons" id="buttonContainer"></div>
        <div class="gallery" id="gallery">
            <img src="cat1.jpg" data-tags="forest" alt="kitten">
            <img src="cat2.jpg" data-tags="vehicles" alt="bear">
            <img src="cat3.jpg" data-tags="nature" alt="hills">
            <img src="cat4 - Copy.jpg" data-tags="nature" alt="beach">
            <img src="cat4.jpg" data-tags="persons" alt="bird">
        </div>
        <script>
            const images=document.querySelectorAll("#gallery img");
            const buttonContainer=document.getElementById("buttonContainer");
            const tagged={};
            images.forEach(img=>{
                const tags=img.dataset.tags.split(",");
                tags.forEach(tag=>{
                    if(!tagged[tag]){
                        tagged[tag]=[];
                    }
                    tagged[tag].push(img);
                });
            });
            const allButton=document.createElement("button");
            allButton.textContent="All";
            allButton.addEventListener("click",()=>{
                images.forEach(img=>img.classList.remove("hidden"));
            });
            buttonContainer.appendChild(allButton); 
            Object.keys(tagged).forEach(tag=>{
                const button=document.createElement("button");
                button.textContent=tag;
                button.addEventListener("click",()=>{
                    images.forEach(img=>img.classList.add("hidden"));
                    tagged[tag].forEach(img=>img.classList.remove("hidden"));
                });
                buttonContainer.appendChild(button);
            });
            </script>
    </body>
</html>